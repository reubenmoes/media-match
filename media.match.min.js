/* MediaMatch v.2.0.2 - Testing css media queries in Javascript. Authors & copyright (c) 2013: WebLinc, David Knight. */

window.matchMedia||(window.matchMedia=function(a){"use strict";var b,c=a.document,d=c.documentElement,e=[],f=0,g="",h={},i={cm:2.54,mm:25.4,pt:72,pc:6,"in":1},j=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,k=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,l=0,m=a.styleMedia,n=function(a){if(m&&c.documentMode)return m.matchMedium(a);var d=-1!==a.indexOf(",")&&a.split(",")||[a],e=d.length-1,f=e,l=null,n=null,o="",p=0,q=!1,r="",s="",t=null,u=0,v=0,w=null,x="",y="",z="",A="",B="",C=!1;if(""===a)return!0;do if(l=d[f-e],q=!1,n=l.match(j),n&&(o=n[0],p=n.index),!n||-1===l.substring(0,p).indexOf("(")&&(p||!n[3]&&o!==n.input))C=!1;else{if(s=l,q="not"===n[1],p||(r=n[2],s=l.substring(o.length)),C=r===g||"all"===r||""===r,t=-1!==s.indexOf(" and ")&&s.split(" and ")||[s],u=t.length-1,v=u,C&&u>=0&&""!==s)do{if(w=t[u].match(k),!w||!h[w[3]]){C=!1;break}if(x=w[2],y=w[5],A=y,z=w[7],B=h[w[3]],B=B.call?B():B,z&&(A="px"===z?Number(y):i[z]?(y*b/i[z]).toFixed(2):"em"===z||"rem"===z?16*y:w[8]?(y/w[8]).toFixed(2):"dppx"===z?96*y:"dpcm"===z?.3937*y:Number(y)),C="min-"===x&&A?B>=A:"max-"===x&&A?A>=B:A?B===A:!!B,!C)break}while(u--);if(C)break}while(e--);return q?!C:C},o=function(){clearTimeout(l),l=setTimeout(function(){var b=null,c=f-1,d=c,g=!1;if(c>=0)do if(b=e[d-c],b&&(g=n(b.mql.media),g!==b.mql.matches&&(b.mql.matches=g,b.listeners)))for(var h=0,i=b.listeners.length;i>h;h++)b.listeners[h]&&b.listeners[h].call(a,b.mql);while(c--)},10)},p=function(){var e=c.getElementsByTagName("head")[0],f=c.createElement("style"),i=null,j=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],k=0,l=j.length,m="#mediamatchjs { position: relative; z-index: 0; }",n="",p=a.addEventListener||(n="on")&&a.attachEvent,q=function(){return a.innerWidth||d.clientWidth},r=function(){return a.innerHeight||d.clientHeight},s=a.screen,t=s.width,u=s.height,v=s.colorDepth,w=s.logicalXDPI,x=a.devicePixelRatio||s.deviceXDPI/w||1;for(b=w||96*x,h["aspect-ratio"]=function(){return(q()/r()).toFixed(2)},h.orientation=function(){return r()>=q()?"portrait":"landscape"},h.width=q,h.height=r,h["device-width"]=t,h["device-height"]=u,h["device-aspect-ratio"]=(t/u).toFixed(2),h.color=v,h["color-index"]=Math.pow(2,v),h.resolution=b,h["device-pixel-ratio"]=x,f.type="text/css",f.id="mediamatchjs",e.appendChild(f),i=a.getComputedStyle&&a.getComputedStyle(f)||f.currentStyle;l>k;k++)m+="@media "+j[k]+" { #mediamatchjs { z-index: "+k+" } }";f.styleSheet?f.styleSheet.cssText=m:f.textContent=m,g=j[1*i.zIndex||0],e.removeChild(f),p(n+"resize",o),p(n+"orientationchange",o)};return p(),function(a){var b=f,c={matches:!1,media:a,addListener:function(a){e[b].listeners||(e[b].listeners=[]),a&&e[b].listeners.push(a)},removeListener:function(a){var c=e[b],d=0,f=0;if(c)for(f=c.listeners.length;f>d;d++)c.listeners[d]===a&&c.listeners.splice(d,1)}};return""===a?(c.matches=!0,c):(c.matches=n(a),f=e.push({mql:c,listeners:null}),c)}}(window));